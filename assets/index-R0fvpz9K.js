import{d as i,b6 as jt,b7 as qt,$ as Ot,Z as Gt,aB as xt,aG as Lt,H as A,bE as ct,M as It,ar as Ut,w as yt,az as Mt,J as W,N as ze,Q as Ct,y as ar,ag as Wt,U as Me,a0 as Jt,bF as Kt,bG as ft,V as Qt,_ as _t,bH as dt,Y as Zt,bI as Yt,aI as Nt}from"./index-DgDS95zu.js";var ht=i.createContext(null);function Xt(e){var t=e.children,r=e.onBatchResize,n=i.useRef(0),a=i.useRef([]),o=i.useContext(ht),u=i.useCallback(function(v,l,f){n.current+=1;var y=n.current;a.current.push({size:v,element:l,data:f}),Promise.resolve().then(function(){y===n.current&&(r==null||r(a.current),a.current=[])}),o==null||o(v,l,f)},[r,o]);return i.createElement(ht.Provider,{value:u},t)}var Ht=function(){if(typeof Map<"u")return Map;function e(t,r){var n=-1;return t.some(function(a,o){return a[0]===r?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),a=this.__entries__[n];return a&&a[1]},t.prototype.set=function(r,n){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,a=e(n,r);~a&&n.splice(a,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var a=0,o=this.__entries__;a<o.length;a++){var u=o[a];r.call(n,u[1],u[0])}},t}()}(),mt=typeof window<"u"&&typeof document<"u"&&window.document===document,$r=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),pt=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),en=2;function rn(e,t){var r=!1,n=!1,a=0;function o(){r&&(r=!1,e()),n&&v()}function u(){pt(o)}function v(){var l=Date.now();if(r){if(l-a<en)return;n=!0}else r=!0,n=!1,setTimeout(u,t);a=l}return v}var tn=20,nn=["top","right","bottom","left","width","height","size","weight"],an=typeof MutationObserver<"u",on=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=rn(this.refresh.bind(this),tn)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!mt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),an?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!mt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,a=nn.some(function(o){return!!~n.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),At=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var a=n[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},ir=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||$r},Bt=Vr(0,0,0,0);function Fr(e){return parseFloat(e)||0}function St(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,a){var o=e["border-"+a+"-width"];return n+Fr(o)},0)}function sn(e){for(var t=["top","right","bottom","left"],r={},n=0,a=t;n<a.length;n++){var o=a[n],u=e["padding-"+o];r[o]=Fr(u)}return r}function un(e){var t=e.getBBox();return Vr(0,0,t.width,t.height)}function ln(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Bt;var n=ir(e).getComputedStyle(e),a=sn(n),o=a.left+a.right,u=a.top+a.bottom,v=Fr(n.width),l=Fr(n.height);if(n.boxSizing==="border-box"&&(Math.round(v+o)!==t&&(v-=St(n,"left","right")+o),Math.round(l+u)!==r&&(l-=St(n,"top","bottom")+u)),!vn(e)){var f=Math.round(v+o)-t,y=Math.round(l+u)-r;Math.abs(f)!==1&&(v-=f),Math.abs(y)!==1&&(l-=y)}return Vr(a.left,a.top,v,l)}var cn=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof ir(e).SVGGraphicsElement}:function(e){return e instanceof ir(e).SVGElement&&typeof e.getBBox=="function"}}();function vn(e){return e===ir(e).document.documentElement}function fn(e){return mt?cn(e)?un(e):ln(e):Bt}function dn(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(o.prototype);return At(u,{x:t,y:r,width:n,height:a,top:r,right:t+n,bottom:a+r,left:t}),u}function Vr(e,t,r,n){return{x:e,y:t,width:r,height:n}}var hn=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Vr(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=fn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),mn=function(){function e(t,r){var n=dn(r);At(this,{target:t,contentRect:n})}return e}(),gn=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new Ht,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new hn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof ir(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)&&(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new mn(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$t=typeof WeakMap<"u"?new WeakMap:new Ht,Ft=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=on.getInstance(),n=new gn(t,r,this);$t.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Ft.prototype[e]=function(){var t;return(t=$t.get(this))[e].apply(t,arguments)}});var yn=function(){return typeof $r.ResizeObserver<"u"?$r.ResizeObserver:Ft}(),Ne=new Map;function bn(e){e.forEach(function(t){var r,n=t.target;(r=Ne.get(n))===null||r===void 0||r.forEach(function(a){return a(n)})})}var Vt=new yn(bn);function wn(e,t){Ne.has(e)||(Ne.set(e,new Set),Vt.observe(e)),Ne.get(e).add(t)}function Mn(e,t){Ne.has(e)&&(Ne.get(e).delete(t),Ne.get(e).size||(Vt.unobserve(e),Ne.delete(e)))}var Cn=function(e){jt(r,e);var t=qt(r);function r(){return Ot(this,r),t.apply(this,arguments)}return Gt(r,[{key:"render",value:function(){return this.props.children}}]),r}(i.Component);function _n(e,t){var r=e.children,n=e.disabled,a=i.useRef(null),o=i.useRef(null),u=i.useContext(ht),v=typeof r=="function",l=v?r(a):r,f=i.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),y=!v&&i.isValidElement(l)&&xt(l),h=y?l.ref:null,x=Lt(h,a),m=function(){var k;return ct(a.current)||(a.current&&It(a.current)==="object"?ct((k=a.current)===null||k===void 0?void 0:k.nativeElement):null)||ct(o.current)};i.useImperativeHandle(t,function(){return m()});var w=i.useRef(e);w.current=e;var z=i.useCallback(function(g){var k=w.current,D=k.onResize,b=k.data,L=g.getBoundingClientRect(),N=L.width,d=L.height,I=g.offsetWidth,U=g.offsetHeight,p=Math.floor(N),ie=Math.floor(d);if(f.current.width!==p||f.current.height!==ie||f.current.offsetWidth!==I||f.current.offsetHeight!==U){var de={width:p,height:ie,offsetWidth:I,offsetHeight:U};f.current=de;var oe=I===Math.round(N)?N:I,se=U===Math.round(d)?d:U,J=A(A({},de),{},{offsetWidth:oe,offsetHeight:se});u==null||u(J,g,b),D&&Promise.resolve().then(function(){D(J,g)})}},[]);return i.useEffect(function(){var g=m();return g&&!n&&wn(g,z),function(){return Mn(g,z)}},[a.current,n]),i.createElement(Cn,{ref:o},y?i.cloneElement(l,{ref:x}):l)}var Sn=i.forwardRef(_n),Pn="rc-observer-key";function kn(e,t){var r=e.children,n=typeof r=="function"?[r]:Ut(r);return n.map(function(a,o){var u=(a==null?void 0:a.key)||"".concat(Pn,"-").concat(o);return i.createElement(Sn,yt({},e,{key:u,ref:o===0?t:void 0}),a)})}var bt=i.forwardRef(kn);bt.Collection=Xt;function vt(e){return e!==void 0}function jn(e,t){var r=t||{},n=r.defaultValue,a=r.value,o=r.onChange,u=r.postState,v=Mt(function(){return vt(a)?a:vt(n)?typeof n=="function"?n():n:typeof e=="function"?e():e}),l=W(v,2),f=l[0],y=l[1],h=a!==void 0?a:f,x=u?u(h):h,m=ze(o),w=Mt([h]),z=W(w,2),g=z[0],k=z[1];Ct(function(){var b=g[0];f!==b&&m(f,b)},[g]),Ct(function(){vt(a)||y(a)},[a]);var D=ze(function(b,L){y(b,L),k([h],L)});return[x,D]}const En=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function Rn(e){var t=e.prefixCls,r=e.align,n=e.arrow,a=e.arrowPos,o=n||{},u=o.className,v=o.content,l=a.x,f=l===void 0?0:l,y=a.y,h=y===void 0?0:y,x=i.useRef();if(!r||!r.points)return null;var m={position:"absolute"};if(r.autoArrow!==!1){var w=r.points[0],z=r.points[1],g=w[0],k=w[1],D=z[0],b=z[1];g===D||!["t","b"].includes(g)?m.top=h:g==="t"?m.top=0:m.bottom=0,k===b||!["l","r"].includes(k)?m.left=f:k==="l"?m.left=0:m.right=0}return i.createElement("div",{ref:x,className:ar("".concat(t,"-arrow"),u),style:m},v)}function zn(e){var t=e.prefixCls,r=e.open,n=e.zIndex,a=e.mask,o=e.motion;return a?i.createElement(Wt,yt({},o,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(u){var v=u.className;return i.createElement("div",{style:{zIndex:n},className:ar("".concat(t,"-mask"),v)})}):null}var Dn=i.memo(function(e){var t=e.children;return t},function(e,t){return t.cache}),Tn=i.forwardRef(function(e,t){var r=e.popup,n=e.className,a=e.prefixCls,o=e.style,u=e.target,v=e.onVisibleChanged,l=e.open,f=e.keepDom,y=e.fresh,h=e.onClick,x=e.mask,m=e.arrow,w=e.arrowPos,z=e.align,g=e.motion,k=e.maskMotion,D=e.forceRender,b=e.getPopupContainer,L=e.autoDestroy,N=e.portal,d=e.zIndex,I=e.onMouseEnter,U=e.onMouseLeave,p=e.onPointerEnter,ie=e.ready,de=e.offsetX,oe=e.offsetY,se=e.offsetR,J=e.offsetB,Ce=e.onAlign,q=e.onPrepare,ee=e.stretch,$=e.targetWidth,F=e.targetHeight,M=typeof r=="function"?r():r,He=l||f,K=(b==null?void 0:b.length)>0,O=i.useState(!b||!K),C=W(O,2),G=C[0],or=C[1];if(Me(function(){!G&&K&&u&&or(!0)},[G,K,u]),!G)return null;var he="auto",Q={left:"-1000vw",top:"-1000vh",right:he,bottom:he};if(ie||!l){var Ae,Be=z.points,$e=z.dynamicInset||((Ae=z._experimental)===null||Ae===void 0?void 0:Ae.dynamicInset),ue=$e&&Be[0][1]==="r",me=$e&&Be[0][0]==="b";ue?(Q.right=se,Q.left=he):(Q.left=de,Q.right=he),me?(Q.bottom=J,Q.top=he):(Q.top=oe,Q.bottom=he)}var B={};return ee&&(ee.includes("height")&&F?B.height=F:ee.includes("minHeight")&&F&&(B.minHeight=F),ee.includes("width")&&$?B.width=$:ee.includes("minWidth")&&$&&(B.minWidth=$)),l||(B.pointerEvents="none"),i.createElement(N,{open:D||He,getContainer:b&&function(){return b(u)},autoDestroy:L},i.createElement(zn,{prefixCls:a,open:l,zIndex:d,mask:x,motion:k}),i.createElement(bt,{onResize:Ce,disabled:!l},function(_e){return i.createElement(Wt,yt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:D,leavedClassName:"".concat(a,"-hidden")},g,{onAppearPrepare:q,onEnterPrepare:q,visible:l,onVisibleChanged:function(Se){var Z;g==null||(Z=g.onVisibleChanged)===null||Z===void 0||Z.call(g,Se),v(Se)}}),function(Fe,Se){var Z=Fe.className,Ze=Fe.style,Ve=ar(a,Z,n);return i.createElement("div",{ref:Jt(_e,t,Se),className:Ve,style:A(A(A(A({"--arrow-x":"".concat(w.x||0,"px"),"--arrow-y":"".concat(w.y||0,"px")},Q),B),Ze),{},{boxSizing:"border-box",zIndex:d},o),onMouseEnter:I,onMouseLeave:U,onPointerEnter:p,onClick:h},m&&i.createElement(Rn,{prefixCls:a,arrow:m,arrowPos:w,align:z}),i.createElement(Dn,{cache:!l&&!y},M))})}))}),xn=i.forwardRef(function(e,t){var r=e.children,n=e.getTriggerDOMNode,a=xt(r),o=i.useCallback(function(v){Kt(t,n?n(v):v)},[n]),u=Lt(o,r.ref);return a?i.cloneElement(r,{ref:u}):r}),Pt=i.createContext(null);function kt(e){return e?Array.isArray(e)?e:[e]:[]}function Ln(e,t,r,n){return i.useMemo(function(){var a=kt(r??t),o=kt(n??t),u=new Set(a),v=new Set(o);return e&&(u.has("hover")&&(u.delete("hover"),u.add("click")),v.has("hover")&&(v.delete("hover"),v.add("click"))),[u,v]},[e,t,r,n])}function Wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Nn(e,t,r,n){for(var a=r.points,o=Object.keys(e),u=0;u<o.length;u+=1){var v,l=o[u];if(Wn((v=e[l])===null||v===void 0?void 0:v.points,a,n))return"".concat(t,"-placement-").concat(l)}return""}function Et(e,t,r,n){return t||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function yr(e){return e.ownerDocument.defaultView}function gt(e){for(var t=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=yr(r).getComputedStyle(r),o=a.overflowX,u=a.overflowY,v=a.overflow;[o,u,v].some(function(l){return n.includes(l)})&&t.push(r),r=r.parentElement}return t}function gr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function mr(e){return gr(parseFloat(e),0)}function Rt(e,t){var r=A({},e);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=yr(n).getComputedStyle(n),o=a.overflow,u=a.overflowClipMargin,v=a.borderTopWidth,l=a.borderBottomWidth,f=a.borderLeftWidth,y=a.borderRightWidth,h=n.getBoundingClientRect(),x=n.offsetHeight,m=n.clientHeight,w=n.offsetWidth,z=n.clientWidth,g=mr(v),k=mr(l),D=mr(f),b=mr(y),L=gr(Math.round(h.width/w*1e3)/1e3),N=gr(Math.round(h.height/x*1e3)/1e3),d=(w-z-D-b)*L,I=(x-m-g-k)*N,U=g*N,p=k*N,ie=D*L,de=b*L,oe=0,se=0;if(o==="clip"){var J=mr(u);oe=J*L,se=J*N}var Ce=h.x+ie-oe,q=h.y+U-se,ee=Ce+h.width+2*oe-ie-de-d,$=q+h.height+2*se-U-p-I;r.left=Math.max(r.left,Ce),r.top=Math.max(r.top,q),r.right=Math.min(r.right,ee),r.bottom=Math.min(r.bottom,$)}}),r}function zt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(t),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function Dt(e,t){var r=t||[],n=W(r,2),a=n[0],o=n[1];return[zt(e.width,a),zt(e.height,o)]}function Tt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function nr(e,t){var r=t[0],n=t[1],a,o;return r==="t"?o=e.y:r==="b"?o=e.y+e.height:o=e.y+e.height/2,n==="l"?a=e.x:n==="r"?a=e.x+e.width:a=e.x+e.width/2,{x:a,y:o}}function We(e,t){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,a){return a===t?r[n]||"c":n}).join("")}function Hn(e,t,r,n,a,o,u){var v=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),l=W(v,2),f=l[0],y=l[1],h=i.useRef(0),x=i.useMemo(function(){return t?gt(t):[]},[t]),m=i.useRef({}),w=function(){m.current={}};e||w();var z=ze(function(){if(t&&r&&e){let ae=function(hr,Re){var Qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:br,Nr=C.x+hr,Hr=C.y+Re,st=Nr+me,ut=Hr+ue,s=Math.max(Nr,Qe.left),c=Math.max(Hr,Qe.top),E=Math.min(st,Qe.right),T=Math.min(ut,Qe.bottom);return Math.max(0,(E-s)*(T-c))},tr=function(){Ge=C.y+P,Ie=Ge+ue,ke=C.x+_,Xe=ke+me};var D,b,L,N,d=t,I=d.ownerDocument,U=yr(d),p=U.getComputedStyle(d),ie=p.width,de=p.height,oe=p.position,se=d.style.left,J=d.style.top,Ce=d.style.right,q=d.style.bottom,ee=d.style.overflow,$=A(A({},a[n]),o),F=I.createElement("div");(D=d.parentElement)===null||D===void 0||D.appendChild(F),F.style.left="".concat(d.offsetLeft,"px"),F.style.top="".concat(d.offsetTop,"px"),F.style.position=oe,F.style.height="".concat(d.offsetHeight,"px"),F.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden";var M;if(Array.isArray(r))M={x:r[0],y:r[1],width:0,height:0};else{var He,K,O=r.getBoundingClientRect();O.x=(He=O.x)!==null&&He!==void 0?He:O.left,O.y=(K=O.y)!==null&&K!==void 0?K:O.top,M={x:O.x,y:O.y,width:O.width,height:O.height}}var C=d.getBoundingClientRect();C.x=(b=C.x)!==null&&b!==void 0?b:C.left,C.y=(L=C.y)!==null&&L!==void 0?L:C.top;var G=I.documentElement,or=G.clientWidth,he=G.clientHeight,Q=G.scrollWidth,Ae=G.scrollHeight,Be=G.scrollTop,$e=G.scrollLeft,ue=C.height,me=C.width,B=M.height,_e=M.width,Fe={left:0,top:0,right:or,bottom:he},Se={left:-$e,top:-Be,right:Q-$e,bottom:Ae-Be},Z=$.htmlRegion,Ze="visible",Ve="visibleFirst";Z!=="scroll"&&Z!==Ve&&(Z=Ze);var Y=Z===Ve,jr=Rt(Se,x),S=Rt(Fe,x),br=Z===Ze?S:jr,je=Y?S:br;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var V=d.getBoundingClientRect();d.style.left=se,d.style.top=J,d.style.right=Ce,d.style.bottom=q,d.style.overflow=ee,(N=d.parentElement)===null||N===void 0||N.removeChild(F);var De=gr(Math.round(me/parseFloat(ie)*1e3)/1e3),Pe=gr(Math.round(ue/parseFloat(de)*1e3)/1e3);if(De===0||Pe===0||ft(r)&&!Qt(r))return;var qr=$.offset,Or=$.targetOffset,wr=Dt(C,qr),le=W(wr,2),ce=le[0],re=le[1],Gr=Dt(M,Or),qe=W(Gr,2),te=qe[0],Te=qe[1];M.x-=te,M.y-=Te;var Ir=$.points||[],Mr=W(Ir,2),Ur=Mr[0],Jr=Mr[1],ge=Tt(Jr),X=Tt(Ur),sr=nr(M,ge),j=nr(C,X),xe=A({},$),_=sr.x-j.x+ce,P=sr.y-j.y+re,ve=ae(_,P),Oe=ae(_,P,S),ur=nr(M,["t","l"]),ne=nr(C,["t","l"]),Cr=nr(M,["b","r"]),lr=nr(C,["b","r"]),Le=$.overflow||{},_r=Le.adjustX,Kr=Le.adjustY,cr=Le.shiftX,Ye=Le.shiftY,vr=function(Re){return typeof Re=="boolean"?Re:Re>=0},Ge,Ie,ke,Xe;tr();var Ue=vr(Kr),Sr=X[0]===ge[0];if(Ue&&X[0]==="t"&&(Ie>je.bottom||m.current.bt)){var H=P;Sr?H-=ue-B:H=ur.y-lr.y-re;var Pr=ae(_,H),Qr=ae(_,H,S);Pr>ve||Pr===ve&&(!Y||Qr>=Oe)?(m.current.bt=!0,P=H,re=-re,xe.points=[We(X,0),We(ge,0)]):m.current.bt=!1}if(Ue&&X[0]==="b"&&(Ge<je.top||m.current.tb)){var Je=P;Sr?Je+=ue-B:Je=Cr.y-ne.y-re;var kr=ae(_,Je),Zr=ae(_,Je,S);kr>ve||kr===ve&&(!Y||Zr>=Oe)?(m.current.tb=!0,P=Je,re=-re,xe.points=[We(X,0),We(ge,0)]):m.current.tb=!1}var Er=vr(_r),Rr=X[1]===ge[1];if(Er&&X[1]==="l"&&(Xe>je.right||m.current.rl)){var Ke=_;Rr?Ke-=me-_e:Ke=ur.x-lr.x-ce;var zr=ae(Ke,P),pe=ae(Ke,P,S);zr>ve||zr===ve&&(!Y||pe>=Oe)?(m.current.rl=!0,_=Ke,ce=-ce,xe.points=[We(X,1),We(ge,1)]):m.current.rl=!1}if(Er&&X[1]==="r"&&(ke<je.left||m.current.lr)){var Ee=_;Rr?Ee+=me-_e:Ee=Cr.x-ne.x-ce;var Dr=ae(Ee,P),Tr=ae(Ee,P,S);Dr>ve||Dr===ve&&(!Y||Tr>=Oe)?(m.current.lr=!0,_=Ee,ce=-ce,xe.points=[We(X,1),We(ge,1)]):m.current.lr=!1}tr();var ye=cr===!0?0:cr;typeof ye=="number"&&(ke<S.left&&(_-=ke-S.left-ce,M.x+_e<S.left+ye&&(_+=M.x-S.left+_e-ye)),Xe>S.right&&(_-=Xe-S.right-ce,M.x>S.right-ye&&(_+=M.x-S.right+ye)));var fe=Ye===!0?0:Ye;typeof fe=="number"&&(Ge<S.top&&(P-=Ge-S.top-re,M.y+B<S.top+fe&&(P+=M.y-S.top+B-fe)),Ie>S.bottom&&(P-=Ie-S.bottom-re,M.y>S.bottom-fe&&(P+=M.y-S.bottom+fe)));var er=C.x+_,rr=er+me,be=C.y+P,Yr=be+ue,xr=M.x,Xr=xr+_e,fr=M.y,pr=fr+B,et=Math.max(er,xr),rt=Math.min(rr,Xr),Lr=(et+rt)/2,tt=Lr-er,nt=Math.max(be,fr),Wr=Math.min(Yr,pr),at=(nt+Wr)/2,it=at-be;u==null||u(t,xe);var dr=V.right-C.x-(_+C.width),we=V.bottom-C.y-(P+C.height);De===1&&(_=Math.round(_),dr=Math.round(dr)),Pe===1&&(P=Math.round(P),we=Math.round(we));var ot={ready:!0,offsetX:_/De,offsetY:P/Pe,offsetR:dr/De,offsetB:we/Pe,arrowX:tt/De,arrowY:it/Pe,scaleX:De,scaleY:Pe,align:xe};y(ot)}}),g=function(){h.current+=1;var b=h.current;Promise.resolve().then(function(){h.current===b&&z()})},k=function(){y(function(b){return A(A({},b),{},{ready:!1})})};return Me(k,[n]),Me(function(){e||k()},[e]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,g]}function An(e,t,r,n,a){Me(function(){if(e&&t&&r){let h=function(){n(),a()};var o=t,u=r,v=gt(o),l=gt(u),f=yr(u),y=new Set([f].concat(_t(v),_t(l)));return y.forEach(function(x){x.addEventListener("scroll",h,{passive:!0})}),f.addEventListener("resize",h,{passive:!0}),n(),function(){y.forEach(function(x){x.removeEventListener("scroll",h),f.removeEventListener("resize",h)})}}},[e,t,r])}function Bn(e,t,r,n,a,o,u,v){var l=i.useRef(e);l.current=e,i.useEffect(function(){if(t&&n&&(!a||o)){var f=function(m){var w;l.current&&!u(((w=m.composedPath)===null||w===void 0||(w=w.call(m))===null||w===void 0?void 0:w[0])||m.target)&&v(!1)},y=yr(n);y.addEventListener("mousedown",f,!0),y.addEventListener("contextmenu",f,!0);var h=dt(r);return h&&(h.addEventListener("mousedown",f,!0),h.addEventListener("contextmenu",f,!0)),function(){y.removeEventListener("mousedown",f,!0),y.removeEventListener("contextmenu",f,!0),h&&(h.removeEventListener("mousedown",f,!0),h.removeEventListener("contextmenu",f,!0))}}},[t,r,n,a,o])}var $n=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Fn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nt,t=i.forwardRef(function(r,n){var a=r.prefixCls,o=a===void 0?"rc-trigger-popup":a,u=r.children,v=r.action,l=v===void 0?"hover":v,f=r.showAction,y=r.hideAction,h=r.popupVisible,x=r.defaultPopupVisible,m=r.onPopupVisibleChange,w=r.afterPopupVisibleChange,z=r.mouseEnterDelay,g=r.mouseLeaveDelay,k=g===void 0?.1:g,D=r.focusDelay,b=r.blurDelay,L=r.mask,N=r.maskClosable,d=N===void 0?!0:N,I=r.getPopupContainer,U=r.forceRender,p=r.autoDestroy,ie=r.destroyPopupOnHide,de=r.popup,oe=r.popupClassName,se=r.popupStyle,J=r.popupPlacement,Ce=r.builtinPlacements,q=Ce===void 0?{}:Ce,ee=r.popupAlign,$=r.zIndex,F=r.stretch,M=r.getPopupClassNameFromAlign,He=r.fresh,K=r.alignPoint,O=r.onPopupClick,C=r.onPopupAlign,G=r.arrow,or=r.popupMotion,he=r.maskMotion,Q=r.popupTransitionName,Ae=r.popupAnimation,Be=r.maskTransitionName,$e=r.maskAnimation,ue=r.className,me=r.getTriggerDOMNode,B=Zt(r,$n),_e=p||ie||!1,Fe=i.useState(!1),Se=W(Fe,2),Z=Se[0],Ze=Se[1];Me(function(){Ze(En())},[]);var Ve=i.useRef({}),Y=i.useContext(Pt),jr=i.useMemo(function(){return{registerSubPopup:function(c,E){Ve.current[c]=E,Y==null||Y.registerSubPopup(c,E)}}},[Y]),S=Yt(),br=i.useState(null),je=W(br,2),V=je[0],De=je[1],Pe=i.useRef(null),qr=ze(function(s){Pe.current=s,ft(s)&&V!==s&&De(s),Y==null||Y.registerSubPopup(S,s)}),Or=i.useState(null),wr=W(Or,2),le=wr[0],ce=wr[1],re=i.useRef(null),Gr=ze(function(s){ft(s)&&le!==s&&(ce(s),re.current=s)}),qe=i.Children.only(u),te=(qe==null?void 0:qe.props)||{},Te={},Ir=ze(function(s){var c,E,T=le;return(T==null?void 0:T.contains(s))||((c=dt(T))===null||c===void 0?void 0:c.host)===s||s===T||(V==null?void 0:V.contains(s))||((E=dt(V))===null||E===void 0?void 0:E.host)===s||s===V||Object.values(Ve.current).some(function(R){return(R==null?void 0:R.contains(s))||s===R})}),Mr=Et(o,or,Ae,Q),Ur=Et(o,he,$e,Be),Jr=i.useState(x||!1),ge=W(Jr,2),X=ge[0],sr=ge[1],j=h??X,xe=ze(function(s){h===void 0&&sr(s)});Me(function(){sr(h||!1)},[h]);var _=i.useRef(j);_.current=j;var P=i.useRef([]);P.current=[];var ve=ze(function(s){var c;xe(s),((c=P.current[P.current.length-1])!==null&&c!==void 0?c:j)!==s&&(P.current.push(s),m==null||m(s))}),Oe=i.useRef(),ur=function(){clearTimeout(Oe.current)},ne=function(c){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ur(),E===0?ve(c):Oe.current=setTimeout(function(){ve(c)},E*1e3)};i.useEffect(function(){return ur},[]);var Cr=i.useState(!1),lr=W(Cr,2),Le=lr[0],_r=lr[1];Me(function(s){(!s||j)&&_r(!0)},[j]);var Kr=i.useState(null),cr=W(Kr,2),Ye=cr[0],vr=cr[1],Ge=i.useState(null),Ie=W(Ge,2),ke=Ie[0],Xe=Ie[1],Ue=function(c){Xe([c.clientX,c.clientY])},Sr=Hn(j,V,K&&ke!==null?ke:le,J,q,ee,C),H=W(Sr,11),Pr=H[0],Qr=H[1],Je=H[2],kr=H[3],Zr=H[4],Er=H[5],Rr=H[6],Ke=H[7],zr=H[8],pe=H[9],Ee=H[10],Dr=Ln(Z,l,f,y),Tr=W(Dr,2),ye=Tr[0],fe=Tr[1],er=ye.has("click"),rr=fe.has("click")||fe.has("contextMenu"),be=ze(function(){Le||Ee()}),Yr=function(){_.current&&K&&rr&&ne(!1)};An(j,le,V,be,Yr),Me(function(){be()},[ke,J]),Me(function(){j&&!(q!=null&&q[J])&&be()},[JSON.stringify(ee)]);var xr=i.useMemo(function(){var s=Nn(q,o,pe,K);return ar(s,M==null?void 0:M(pe))},[pe,M,q,o,K]);i.useImperativeHandle(n,function(){return{nativeElement:re.current,popupElement:Pe.current,forceAlign:be}});var Xr=i.useState(0),fr=W(Xr,2),pr=fr[0],et=fr[1],rt=i.useState(0),Lr=W(rt,2),tt=Lr[0],nt=Lr[1],Wr=function(){if(F&&le){var c=le.getBoundingClientRect();et(c.width),nt(c.height)}},at=function(){Wr(),be()},it=function(c){_r(!1),Ee(),w==null||w(c)},dr=function(){return new Promise(function(c){Wr(),vr(function(){return c})})};Me(function(){Ye&&(Ee(),Ye(),vr(null))},[Ye]);function we(s,c,E,T){Te[s]=function(R){var Ar;T==null||T(R),ne(c,E);for(var lt=arguments.length,wt=new Array(lt>1?lt-1:0),Br=1;Br<lt;Br++)wt[Br-1]=arguments[Br];(Ar=te[s])===null||Ar===void 0||Ar.call.apply(Ar,[te,R].concat(wt))}}(er||rr)&&(Te.onClick=function(s){var c;_.current&&rr?ne(!1):!_.current&&er&&(Ue(s),ne(!0));for(var E=arguments.length,T=new Array(E>1?E-1:0),R=1;R<E;R++)T[R-1]=arguments[R];(c=te.onClick)===null||c===void 0||c.call.apply(c,[te,s].concat(T))}),Bn(j,rr,le,V,L,d,Ir,ne);var ot=ye.has("hover"),ae=fe.has("hover"),tr,hr;ot&&(we("onMouseEnter",!0,z,function(s){Ue(s)}),we("onPointerEnter",!0,z,function(s){Ue(s)}),tr=function(c){(j||Le)&&V!==null&&V!==void 0&&V.contains(c.target)&&ne(!0,z)},K&&(Te.onMouseMove=function(s){var c;(c=te.onMouseMove)===null||c===void 0||c.call(te,s)})),ae&&(we("onMouseLeave",!1,k),we("onPointerLeave",!1,k),hr=function(){ne(!1,k)}),ye.has("focus")&&we("onFocus",!0,D),fe.has("focus")&&we("onBlur",!1,b),ye.has("contextMenu")&&(Te.onContextMenu=function(s){var c;_.current&&fe.has("contextMenu")?ne(!1):(Ue(s),ne(!0)),s.preventDefault();for(var E=arguments.length,T=new Array(E>1?E-1:0),R=1;R<E;R++)T[R-1]=arguments[R];(c=te.onContextMenu)===null||c===void 0||c.call.apply(c,[te,s].concat(T))}),ue&&(Te.className=ar(te.className,ue));var Re=A(A({},te),Te),Qe={},Nr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Nr.forEach(function(s){B[s]&&(Qe[s]=function(){for(var c,E=arguments.length,T=new Array(E),R=0;R<E;R++)T[R]=arguments[R];(c=Re[s])===null||c===void 0||c.call.apply(c,[Re].concat(T)),B[s].apply(B,T)})});var Hr=i.cloneElement(qe,A(A({},Re),Qe)),st={x:Er,y:Rr},ut=G?A({},G!==!0?G:{}):null;return i.createElement(i.Fragment,null,i.createElement(bt,{disabled:!j,ref:Gr,onResize:at},i.createElement(xn,{getTriggerDOMNode:me},Hr)),i.createElement(Pt.Provider,{value:jr},i.createElement(Tn,{portal:e,ref:qr,prefixCls:o,popup:de,className:ar(oe,xr),style:se,target:le,onMouseEnter:tr,onMouseLeave:hr,onPointerEnter:tr,zIndex:$,open:j,keepDom:Le,fresh:He,onClick:O,mask:L,motion:Mr,maskMotion:Ur,onVisibleChanged:it,onPrepare:dr,forceRender:U,autoDestroy:_e,getPopupContainer:I,align:pe,arrow:ut,arrowPos:st,ready:Pr,offsetX:Qr,offsetY:Je,offsetR:kr,offsetB:Zr,onAlign:be,stretch:F,targetWidth:pr/Ke,targetHeight:tt/zr})))});return t}const qn=Fn(Nt);export{bt as R,qn as T,En as i,jn as u};
