import{p as m,d as l,j as r,b2 as y}from"./index-DgDS95zu.js";import{u as h}from"./useMutation-BVHFNGNj.js";import{m as E}from"./api-Df7WHB2j.js";const f={ZEN:"#91B4B4",BLUE:"#7994CC",RED:"#F16667",PURPLE:"#B173B0",GREEN:"#8BC751",YELLOW:"#EEBC1C",BLUE_DARKER:"#404F6F",ORANGE:"#ED8951"},C=()=>{const e=m(s=>s.auth.user.id),i=async(s={})=>(await E.get(`/meditations/v1/${e}/chats/`,s,{headers:{"Content-Type":"application/json"}})).data,{mutate:o,data:n,error:a,isLoading:c,isError:d,isSuccess:u}=h(i);return{mutate:o,data:n,error:a,isLoading:c,isError:d,isSuccess:u}},g=()=>{const e=m(s=>s.auth.user.id),i=async({data:s,chat_id:t})=>(await E.delete(`/meditations/v1/${e}/chats/${t}/`,s,{headers:{"Content-Type":"application/json"}})).data,{mutate:o,data:n,error:a,isLoading:c,isError:d,isSuccess:u}=h(i);return{mutate:o,data:n,error:a,isLoading:c,isError:d,isSuccess:u}},j=({backgroundColor:e,title:i,pin:o,id:n})=>{const{mutate:a}=g();return r.jsxs("div",{className:"history-item history-item-meditation",style:{backgroundColor:e},children:[r.jsx("span",{className:"history-title text-secondary",children:i}),r.jsx("div",{className:"buttons-container",children:r.jsx("img",{className:"pin-button",id:"pin-button","data-history-id":"51f218cd-332f-4143-9571-de42ba7780fe",src:o?"/static/assets/pin_filled.svg":"/static/assets/pin_hollow.svg",alt:"Pin"})}),r.jsx("img",{className:"history-trash-button",src:"/static/assets/history_trash.svg",alt:"Trash",onClick:()=>a({chat_id:n,data:{}})})]})},L=()=>{const e=Object.values(f),[i,o]=l.useState([]),{mutate:n,data:a,isSuccess:c,isError:d,error:u,isLoading:s}=C();return l.useEffect(n,[]),l.useEffect(()=>{c&&o(a.map((t,p)=>({id:t.history_id,pin:t.pin,title:t.title,backgroundColor:e[p%e.length]})))},[a,c]),s?r.jsx(y,{visible:!0}):r.jsx("div",{className:"history-area m-4",children:i.map(t=>r.jsx(j,{backgroundColor:t.backgroundColor,title:t.title,pin:t.pin,id:t.id},t.id))})};export{L as default};
